{% extends 'admin/base.html.twig' %}

{% block title %}Modifier {{ modele.nom }}{% endblock %}

{% block body %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>✏️ Modifier le Modèle</h1>
    <a href="{{ path('admin_modeles_index') }}" class="btn btn-secondary">← Retour</a>
</div>

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <form method="post">
                    <div class="mb-3">
                        <label for="nom" class="form-label">Nom du modèle *</label>
                        <input type="text" class="form-control" id="nom" name="nom" value="{{ modele.nom }}" required>
                    </div>

                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" id="description" name="description" rows="3">{{ modele.description }}</textarea>
                    </div>

                    <div class="mb-3">
                        <label for="image" class="form-label">Chemin de l'image *</label>
                        <input type="text" class="form-control" id="image" name="image" value="{{ modele.image }}" required>
                        <small class="text-muted">Placez l'image dans le dossier public/lettres/</small>
                    </div>

                    <div class="mb-3">
                        <label for="prixBase" class="form-label">Prix de base (€) *</label>
                        <input type="number" step="0.01" class="form-control" id="prixBase" name="prixBase" value="{{ modele.prixBase }}" required>
                    </div>

                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="actif" name="actif" value="1" {{ modele.actif ? 'checked' : '' }}>
                        <label class="form-check-label" for="actif">
                            Actif (visible sur le site)
                        </label>
                    </div>

                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-primary">
                            <i class="fa fa-save"></i> Enregistrer
                        </button>
                        <a href="{{ path('admin_modeles_index') }}" class="btn btn-secondary">Annuler</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">Aperçu</h5>
            </div>
            <div class="card-body text-center">
                <img src="{{ asset(modele.image) }}" alt="{{ modele.nom }}" class="img-fluid" style="max-height: 300px; object-fit: contain;">
                <p class="mt-3"><strong>{{ modele.nom }}</strong></p>
                <p class="text-muted">{{ modele.prixBase|number_format(2) }}€</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
